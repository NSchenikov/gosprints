Спринт 2: Многопоточность и очереди

Задача:

    Для каждой созданной задачи добавить логику «обработки» (processing).
    Организовать очередь задач (in-memory).
    Сделать один или несколько «воркеров», которые берут задачи из очереди и обрабатывают их (например, меняют status у задачи через какое-то время).
    Важно: учесть многопоточность, использовать горутины и каналы, чтобы отработать параллельную обработку.

Цели:

    Освоить горутины, каналы (chan), примитивы синхронизации (sync.WaitGroup, sync.Mutex и пр.).
    Научиться организовывать очередь задач (можно начать с простой очереди в памяти, а затем при желании заменить её на внешнюю систему).
    Понять, как логировать и отслеживать обработку задач в реальном времени.

Функциональные требования:

    Обработка задач:
        Каждая задача после создания получает статус «processing».
        Организовать очередь задач – можно начать с in-memory очереди, реализованной на каналах.
    Асинхронная обработка:
        Запуск одного или нескольких воркеров, которые в отдельных горутинах обрабатывают задачи из очереди.
        В процессе обработки изменять статус задачи (например, с processing на completed).
    Логирование:
        Вести запись времени начала и окончания обработки для каждой задачи.

        __________________________
        1) вынести создание роутера в отдельную функцию (handle в том числе). Для красоты
        2) убрать постановку задач в очередь из хэндлера getTasks. Создать еще один воркер в количестве одной горутины. Внутри использовать ticker из пакета time. По ticker через репозиторий получать список тасок с определенными статусами. Таски класть в очередь на обработку
        3) добавить слой бизнес-логики (сервис app или useCase). Слой должен быть архитектурно между хэндлерами и репозиториями
        4) (погуглить). Реализовать graceful shootdown - завершить контекстом все запущенные воркеры (с cancel)
        5)* использовать интерфейсы вместо конкретных структур (везде). Интерфейсы объявлять в месте использования, а не реализации
        6) написать тест на воркер, который меняет статусы (проверить действительно ли меняются статусы)